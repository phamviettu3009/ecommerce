{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/src/app/auth/styles.module.scss.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_export_value__({\n  \"form\": \"styles-module-scss-module__yKohkW__form\",\n  \"page\": \"styles-module-scss-module__yKohkW__page\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA"}},
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["file:///Users/macad/Documents/Project/nextjs/ecommerce/src/app/services/client/authImpl.ts"],"sourcesContent":["import Account from \"@/app/types/account\";\nimport { AuthService } from \"./auth\";\nimport SignInResponse from \"@/app/types/signInResponse\";\nimport { SignOutResponse } from \"@/app/types/signOutResponse\";\n\nexport function createAuthServiceInstance(): AuthService {\n    return new AuthServiceImpl();\n}\n\nclass AuthServiceImpl implements AuthService {\n    async signIn(account: Account): Promise<SignInResponse> {\n        try {\n            const response = await fetch(\"http://localhost:3000/api/auth/sign-in\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                },\n                body: JSON.stringify(account),\n            });\n\n            if (!response.ok) {\n                throw new Error(`HTTP error! Status: ${response.status}`);\n            }\n\n            const result = await response.json();\n            return result;\n        } catch (error) {\n            throw new Error(\"Sign In failed \" + error);\n        }\n    }\n\n    async signOut(): Promise<SignOutResponse> {\n        try {\n            const response = await fetch(\"http://localhost:3000/api/auth/sign-out\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                },\n            });\n\n            if (!response.ok) {\n                throw new Error(`HTTP error! Status: ${response.status}`);\n            }\n\n            const result = await response.json();\n            return result;\n        } catch (error) {\n            throw new Error(\"Sign out failed \" + error);\n        }\n    }\n}\n"],"names":[],"mappings":";;;AAKO,SAAS;IACZ,OAAO,IAAI;AACf;AAEA,MAAM;IACF,MAAM,OAAO,OAAgB,EAA2B;QACpD,IAAI;YACA,MAAM,WAAW,MAAM,MAAM,0CAA0C;gBACnE,QAAQ;gBACR,SAAS;oBACL,gBAAgB;gBACpB;gBACA,MAAM,KAAK,SAAS,CAAC;YACzB;YAEA,IAAI,CAAC,SAAS,EAAE,EAAE;gBACd,MAAM,IAAI,MAAM,CAAC,oBAAoB,EAAE,SAAS,MAAM,EAAE;YAC5D;YAEA,MAAM,SAAS,MAAM,SAAS,IAAI;YAClC,OAAO;QACX,EAAE,OAAO,OAAO;YACZ,MAAM,IAAI,MAAM,oBAAoB;QACxC;IACJ;IAEA,MAAM,UAAoC;QACtC,IAAI;YACA,MAAM,WAAW,MAAM,MAAM,2CAA2C;gBACpE,QAAQ;gBACR,SAAS;oBACL,gBAAgB;gBACpB;YACJ;YAEA,IAAI,CAAC,SAAS,EAAE,EAAE;gBACd,MAAM,IAAI,MAAM,CAAC,oBAAoB,EAAE,SAAS,MAAM,EAAE;YAC5D;YAEA,MAAM,SAAS,MAAM,SAAS,IAAI;YAClC,OAAO;QACX,EAAE,OAAO,OAAO;YACZ,MAAM,IAAI,MAAM,qBAAqB;QACzC;IACJ;AACJ"}},
    {"offset": {"line": 62, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 68, "column": 0}, "map": {"version":3,"sources":["file:///Users/macad/Documents/Project/nextjs/ecommerce/src/app/services/client/auth.ts"],"sourcesContent":["import Account from \"@/app/types/account\";\nimport { createAuthServiceInstance } from \"./authImpl\";\nimport SignInResponse from \"@/app/types/signInResponse\";\nimport { SignOutResponse } from \"@/app/types/signOutResponse\";\n\nexport interface AuthService {\n    signIn(account: Account): Promise<SignInResponse>;\n    signOut(): Promise<SignOutResponse>;\n}\n\nconst authService: AuthService = createAuthServiceInstance();\nexport default authService;\n"],"names":[],"mappings":";;;AACA;;AASA,MAAM,cAA2B,CAAA,GAAA,+IAAA,CAAA,4BAAyB,AAAD;uCAC1C"}},
    {"offset": {"line": 78, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 84, "column": 0}, "map": {"version":3,"sources":["file:///Users/macad/Documents/Project/nextjs/ecommerce/src/app/hooks/useAuth.ts"],"sourcesContent":["import { useSession, signIn, signOut } from \"next-auth/react\";\n\nimport { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport Account from \"../types/account\";\nimport authService from \"../services/client/auth\";\nimport SignInResponse from \"../types/signInResponse\";\nimport { useRouter } from \"next/navigation\";\nimport { SignOutResponse } from \"../types/signOutResponse\";\n\nfunction useAuth() {\n    const { data: session } = useSession();\n    const route = useRouter();\n    const [message, setMessage] = useState<string | null>(null);\n    const [isLoading, setIsLoading] = useState<boolean>(false);\n\n    const { control, handleSubmit } = useForm<Account>({\n        defaultValues: {\n            email: \"\",\n            password: \"\",\n        },\n    });\n\n    const handleSignIn = handleSubmit(async (account: Account): Promise<void> => {\n        setIsLoading(true);\n        setMessage(null);\n        const signIn: SignInResponse = await authService.signIn(account);\n        if (signIn.authed) {\n            route.push(\"/customer\");\n        } else {\n            setMessage(signIn.description);\n        }\n        setIsLoading(false);\n    });\n\n    const handleSignOut = async () => {\n        const signOut: SignOutResponse = await authService.signOut();\n        if (signOut.signOut) {\n            route.push(\"/auth\");\n        }\n    };\n\n    return { session, message, control, handleSignIn, handleSignOut, signIn, signOut, isLoading };\n}\n\nexport default useAuth;\n"],"names":[],"mappings":";;;AAAA;AAEA;AAGA;AAEA;AAJA;;;;;;;AAOA,SAAS;;IACL,MAAM,EAAE,MAAM,OAAO,EAAE,GAAG,CAAA,GAAA,iJAAA,CAAA,aAAU,AAAD;IACnC,MAAM,QAAQ,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IACtB,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAiB;IACtD,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAW;IAEpD,MAAM,EAAE,OAAO,EAAE,YAAY,EAAE,GAAG,CAAA,GAAA,iKAAA,CAAA,UAAO,AAAD,EAAW;QAC/C,eAAe;YACX,OAAO;YACP,UAAU;QACd;IACJ;IAEA,MAAM,eAAe,aAAa,OAAO;QACrC,aAAa;QACb,WAAW;QACX,MAAM,SAAyB,MAAM,2IAAA,CAAA,UAAW,CAAC,MAAM,CAAC;QACxD,IAAI,OAAO,MAAM,EAAE;YACf,MAAM,IAAI,CAAC;QACf,OAAO;YACH,WAAW,OAAO,WAAW;QACjC;QACA,aAAa;IACjB;IAEA,MAAM,gBAAgB;QAClB,MAAM,UAA2B,MAAM,2IAAA,CAAA,UAAW,CAAC,OAAO;QAC1D,IAAI,QAAQ,OAAO,EAAE;YACjB,MAAM,IAAI,CAAC;QACf;IACJ;IAEA,OAAO;QAAE;QAAS;QAAS;QAAS;QAAc;QAAe,QAAA,iJAAA,CAAA,SAAM;QAAE,SAAA,iJAAA,CAAA,UAAO;QAAE;IAAU;AAChG;GAjCS;;QACqB,iJAAA,CAAA,aAAU;QACtB,qIAAA,CAAA,YAAS;QAIW,iKAAA,CAAA,UAAO;;;uCA6B9B"}},
    {"offset": {"line": 149, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 155, "column": 0}, "map": {"version":3,"sources":["file:///Users/macad/Documents/Project/nextjs/ecommerce/src/app/auth/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { signIn, signOut } from \"next-auth/react\";\nimport styles from \"./styles.module.scss\";\nimport { Button, CircularProgress, Divider, FormControl, FormLabel, TextField } from \"@mui/material\";\nimport { Controller } from \"react-hook-form\";\nimport useAuth from \"../hooks/useAuth\";\nimport { Fragment } from \"react\";\n\nfunction AuthPage() {\n    const { session, message, handleSignIn, control, isLoading } = useAuth();\n\n    return (\n        <div className={styles[\"page\"]}>\n            <FormControl className={styles[\"form\"]}>\n                {session ? (\n                    <Fragment>\n                        <p>Welcome, {session.user?.name}</p>\n                        <Button fullWidth variant=\"contained\" onClick={() => signOut()}>\n                            Sign Out\n                        </Button>\n                    </Fragment>\n                ) : (\n                    <Fragment>\n                        <FormLabel className=\"align-self-center fs-4 fw-bold\">Sign In</FormLabel>\n                        <Controller\n                            name=\"email\"\n                            control={control}\n                            render={({ field }) => (\n                                <TextField {...field} id=\"standard-adornment-email\" label=\"Email\" variant=\"standard\" />\n                            )}\n                        />\n                        <Controller\n                            name=\"password\"\n                            control={control}\n                            render={({ field }) => (\n                                <TextField\n                                    {...field}\n                                    id=\"standard-adornment-password\"\n                                    type=\"password\"\n                                    label=\"Password\"\n                                    variant=\"standard\"\n                                />\n                            )}\n                        />\n                        <Button\n                            className=\"mt-3\"\n                            variant=\"contained\"\n                            disabled={isLoading}\n                            fullWidth\n                            onClick={handleSignIn}\n                        >\n                            {isLoading ? <CircularProgress size=\"25px\" color=\"inherit\" /> : <span>Sign In</span>}\n                        </Button>\n                        {message && <p className=\"text-danger\">{message}</p>}\n                        <Divider>OR</Divider>\n                        <Button\n                            disabled={isLoading}\n                            variant=\"outlined\"\n                            fullWidth\n                            onClick={() => signIn(\"google\", { callbackUrl: \"http://localhost:3000\" })}\n                        >\n                            Sign In with Google\n                        </Button>\n                    </Fragment>\n                )}\n            </FormControl>\n        </div>\n    );\n}\n\nexport default AuthPage;\n"],"names":[],"mappings":";;;;AAEA;AACA;AAGA;AACA;AAHA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;;;AAJA;;;;;;;AASA,SAAS;;IACL,MAAM,EAAE,OAAO,EAAE,OAAO,EAAE,YAAY,EAAE,OAAO,EAAE,SAAS,EAAE,GAAG,CAAA,GAAA,iIAAA,CAAA,UAAO,AAAD;IAErE,qBACI,6LAAC;QAAI,WAAW,6JAAA,CAAA,UAAM,CAAC,OAAO;kBAC1B,cAAA,6LAAC,4MAAA,CAAA,cAAW;YAAC,WAAW,6JAAA,CAAA,UAAM,CAAC,OAAO;sBACjC,wBACG,6LAAC,6JAAA,CAAA,WAAQ;;kCACL,6LAAC;;4BAAE;4BAAU,QAAQ,IAAI,EAAE;;;;;;;kCAC3B,6LAAC,6LAAA,CAAA,SAAM;wBAAC,SAAS;wBAAC,SAAQ;wBAAY,SAAS,IAAM,CAAA,GAAA,iJAAA,CAAA,UAAO,AAAD;kCAAK;;;;;;;;;;;qCAKpE,6LAAC,6JAAA,CAAA,WAAQ;;kCACL,6LAAC,sMAAA,CAAA,YAAS;wBAAC,WAAU;kCAAiC;;;;;;kCACtD,6LAAC,iKAAA,CAAA,aAAU;wBACP,MAAK;wBACL,SAAS;wBACT,QAAQ,CAAC,EAAE,KAAK,EAAE,iBACd,6LAAC,sMAAA,CAAA,YAAS;gCAAE,GAAG,KAAK;gCAAE,IAAG;gCAA2B,OAAM;gCAAQ,SAAQ;;;;;;;;;;;kCAGlF,6LAAC,iKAAA,CAAA,aAAU;wBACP,MAAK;wBACL,SAAS;wBACT,QAAQ,CAAC,EAAE,KAAK,EAAE,iBACd,6LAAC,sMAAA,CAAA,YAAS;gCACL,GAAG,KAAK;gCACT,IAAG;gCACH,MAAK;gCACL,OAAM;gCACN,SAAQ;;;;;;;;;;;kCAIpB,6LAAC,6LAAA,CAAA,SAAM;wBACH,WAAU;wBACV,SAAQ;wBACR,UAAU;wBACV,SAAS;wBACT,SAAS;kCAER,0BAAY,6LAAC,2NAAA,CAAA,mBAAgB;4BAAC,MAAK;4BAAO,OAAM;;;;;iDAAe,6LAAC;sCAAK;;;;;;;;;;;oBAEzE,yBAAW,6LAAC;wBAAE,WAAU;kCAAe;;;;;;kCACxC,6LAAC,gMAAA,CAAA,UAAO;kCAAC;;;;;;kCACT,6LAAC,6LAAA,CAAA,SAAM;wBACH,UAAU;wBACV,SAAQ;wBACR,SAAS;wBACT,SAAS,IAAM,CAAA,GAAA,iJAAA,CAAA,SAAM,AAAD,EAAE,UAAU;gCAAE,aAAa;4BAAwB;kCAC1E;;;;;;;;;;;;;;;;;;;;;;AAQzB;GA5DS;;QAC0D,iIAAA,CAAA,UAAO;;;KADjE;uCA8DM"}},
    {"offset": {"line": 342, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}