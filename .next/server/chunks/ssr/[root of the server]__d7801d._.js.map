{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/src/app/products/styles.module.scss.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_export_value__({\n  \"load_more\": \"styles-module-scss-module__hn9RMq__load_more\",\n  \"load_more_button\": \"styles-module-scss-module__hn9RMq__load_more_button\",\n  \"page\": \"styles-module-scss-module__hn9RMq__page\",\n  \"page_container\": \"styles-module-scss-module__hn9RMq__page_container\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 12, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":["file:///Users/macad/Documents/Project/nextjs/ecommerce/src/app/constants/common.ts"],"sourcesContent":["export const SIZE_PER_PAGE = 10;\n\nexport enum ProductFilterType {\n    PRICE_RANGE = \"PRICE_RANGE\",\n}\n\nexport enum ValueFilterType {\n    FILTER_PRICE = \"filter.v.price\",\n}\n\nexport enum SortProduct {\n    SELECT_OPTIONS = \"SELECT_OPTIONS\",\n    PRICE = \"PRICE\",\n    RELEVANCE = \"RELEVANCE\",\n}\n"],"names":[],"mappings":";;;;;;AAAO,MAAM,gBAAgB;AAEtB,IAAA,AAAK,2CAAA;;WAAA;;AAIL,IAAA,AAAK,yCAAA;;WAAA;;AAIL,IAAA,AAAK,qCAAA;;;;WAAA"}},
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 45, "column": 0}, "map": {"version":3,"sources":["file:///Users/macad/Documents/Project/nextjs/ecommerce/src/app/components/Filter/FilterItem.tsx"],"sourcesContent":["import { ProductFilterType } from \"@/app/constants/common\";\nimport ProductFilterItem from \"@/app/types/productFilter\";\nimport { Checkbox, FormControlLabel, FormGroup } from \"@mui/material\";\nimport React from \"react\";\n\ntype FilterItemPropsType = {\n    productFilter: ProductFilterItem;\n    onClickFilterValue: (input: string, checked: boolean) => void;\n    filterSelected: Record<string, boolean>;\n};\n\nfunction FilterItem({ productFilter, onClickFilterValue, filterSelected }: FilterItemPropsType) {\n    if (productFilter.type == ProductFilterType.PRICE_RANGE) return null;\n\n    return (\n        <div className=\"pt-3\">\n            <h6>{productFilter.label}</h6>\n            <FormGroup>\n                {productFilter.values.map(({ id, label, input }) => {\n                    return (\n                        <FormControlLabel\n                            key={id}\n                            control={<Checkbox checked={filterSelected[input] ?? false} />}\n                            label={label}\n                            onChange={(_, value) => {\n                                onClickFilterValue(input, value);\n                            }}\n                        />\n                    );\n                })}\n            </FormGroup>\n        </div>\n    );\n}\n\nexport default FilterItem;\n"],"names":[],"mappings":";;;;AAAA;AAEA;AAAA;AAAA;;;;AASA,SAAS,WAAW,EAAE,aAAa,EAAE,kBAAkB,EAAE,cAAc,EAAuB;IAC1F,IAAI,cAAc,IAAI,IAAI,iIAAA,CAAA,oBAAiB,CAAC,WAAW,EAAE,OAAO;IAEhE,qBACI,8OAAC;QAAI,WAAU;;0BACX,8OAAC;0BAAI,cAAc,KAAK;;;;;;0BACxB,8OAAC,mMAAA,CAAA,YAAS;0BACL,cAAc,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,KAAK,EAAE,KAAK,EAAE;oBAC3C,qBACI,8OAAC,wNAAA,CAAA,mBAAgB;wBAEb,uBAAS,8OAAC,gMAAA,CAAA,WAAQ;4BAAC,SAAS,cAAc,CAAC,MAAM,IAAI;;;;;;wBACrD,OAAO;wBACP,UAAU,CAAC,GAAG;4BACV,mBAAmB,OAAO;wBAC9B;uBALK;;;;;gBAQjB;;;;;;;;;;;;AAIhB;uCAEe"}},
    {"offset": {"line": 101, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 107, "column": 0}, "map": {"version":3,"sources":["file:///Users/macad/Documents/Project/nextjs/ecommerce/src/app/components/Filter/FilterPrice.tsx"],"sourcesContent":["import { ProductFilterType, ValueFilterType } from \"@/app/constants/common\";\nimport ProductFilterItem from \"@/app/types/productFilter\";\nimport { Slider } from \"@mui/material\";\nimport React from \"react\";\n\ntype FilterPricePropsType = {\n    priceFilter: ProductFilterItem;\n    onChangeFilterRangePrice: (rangePrice: number[]) => void;\n    rangePrice: { range: number[]; filter: number[] };\n};\n\nfunction FilterPrice({ priceFilter, onChangeFilterRangePrice, rangePrice }: FilterPricePropsType) {\n    if (priceFilter.type == ProductFilterType.PRICE_RANGE) {\n        return (\n            <div className=\"pt-3\">\n                <h6>{priceFilter.label}</h6>\n                {priceFilter.values.map((value) => {\n                    return (\n                        <div key={value.id}>\n                            <div>{value.label}</div>\n                            {value.id == ValueFilterType.FILTER_PRICE && (\n                                <Slider\n                                    onChange={(_, value) => {\n                                        onChangeFilterRangePrice(value as number[]);\n                                    }}\n                                    value={rangePrice.filter}\n                                    min={rangePrice.range[0]}\n                                    max={rangePrice.range[1]}\n                                    aria-label=\"Default\"\n                                    valueLabelDisplay=\"auto\"\n                                />\n                            )}\n                        </div>\n                    );\n                })}\n            </div>\n        );\n    }\n\n    return null;\n}\n\nexport default FilterPrice;\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;;AASA,SAAS,YAAY,EAAE,WAAW,EAAE,wBAAwB,EAAE,UAAU,EAAwB;IAC5F,IAAI,YAAY,IAAI,IAAI,iIAAA,CAAA,oBAAiB,CAAC,WAAW,EAAE;QACnD,qBACI,8OAAC;YAAI,WAAU;;8BACX,8OAAC;8BAAI,YAAY,KAAK;;;;;;gBACrB,YAAY,MAAM,CAAC,GAAG,CAAC,CAAC;oBACrB,qBACI,8OAAC;;0CACG,8OAAC;0CAAK,MAAM,KAAK;;;;;;4BAChB,MAAM,EAAE,IAAI,iIAAA,CAAA,kBAAe,CAAC,YAAY,kBACrC,8OAAC,0LAAA,CAAA,SAAM;gCACH,UAAU,CAAC,GAAG;oCACV,yBAAyB;gCAC7B;gCACA,OAAO,WAAW,MAAM;gCACxB,KAAK,WAAW,KAAK,CAAC,EAAE;gCACxB,KAAK,WAAW,KAAK,CAAC,EAAE;gCACxB,cAAW;gCACX,mBAAkB;;;;;;;uBAXpB,MAAM,EAAE;;;;;gBAgB1B;;;;;;;IAGZ;IAEA,OAAO;AACX;uCAEe"}},
    {"offset": {"line": 169, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 199, "column": 0}, "map": {"version":3,"sources":["file:///Users/macad/Documents/Project/nextjs/ecommerce/src/app/utils/filter.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\n\nimport ProductFilterItem, { ProductFilterValueItem } from \"../types/productFilter\";\n\nexport function replaceInputFilter(productFilterItems: ProductFilterItem[]): ProductFilterItem[] {\n    return productFilterItems.map((prodFilter) => ({\n        ...prodFilter,\n        values: prodFilter.values.map((value) => ({ ...value, input: value.input.replace(/\\\\+/g, \"\") })),\n    }));\n}\n\nexport function convertObjectToArrayFilter(input: Record<string, any>): Array<Record<string, any>> {\n    const transformedFilter: any[] = [];\n\n    Object.entries(input).forEach(([key, value]) => {\n        if (Array.isArray(value)) {\n            value.forEach((item) => {\n                transformedFilter.push({ [key]: item });\n            });\n        } else if (typeof value === \"object\" && value !== null) {\n            const subKeys = Object.keys(value);\n            const length = value[subKeys[0]].length;\n            for (let i = 0; i < length; i++) {\n                const subItem: Record<string, any> = {};\n                subKeys.forEach((subKey) => {\n                    subItem[subKey] = value[subKey][i];\n                });\n                transformedFilter.push({ [key]: subItem });\n            }\n        }\n    });\n\n    return transformedFilter;\n}\n\nexport function queryStringToObject(queryString: string): Record<string, any> {\n    const result: Record<string, any> = {};\n\n    const params = queryString.split(\"&\");\n\n    params.forEach((param) => {\n        const [key, value] = param.split(\"=\");\n\n        // Nếu value rỗng, bỏ qua\n        if (!value) return;\n\n        const keys = key.split(\".\");\n\n        let current = result;\n        keys.forEach((k, index) => {\n            if (index === keys.length - 1) {\n                const values = value.split(\",\").filter((v) => v !== \"\");\n                if (values.length === 0) return;\n\n                if (current[k] === undefined) {\n                    current[k] = values;\n                } else if (Array.isArray(current[k])) {\n                    current[k] = [...current[k], ...values];\n                } else {\n                    current[k] = [current[k], ...values];\n                }\n            } else {\n                if (!current[k]) {\n                    current[k] = {};\n                }\n                current = current[k];\n            }\n        });\n    });\n\n    return result;\n}\n\nexport function objectToQueryString(obj: Record<string, any>, prefix: string = \"filter\"): string {\n    const queryParts: string[] = [];\n\n    for (const [key, value] of Object.entries(obj)) {\n        const newKey = prefix ? `${prefix}.${key}` : key;\n\n        if (typeof value === \"object\" && !Array.isArray(value) && value !== null) {\n            queryParts.push(objectToQueryString(value, newKey));\n        } else {\n            queryParts.push(`${newKey}=${value}`);\n        }\n    }\n\n    return queryParts.join(\"&\");\n}\n\nexport function extractFilterParams(queryString: string): string {\n    const params = new URLSearchParams(queryString);\n    const filterParams: string[] = [];\n\n    params.forEach((value, key) => {\n        if (key.startsWith(\"filter\")) {\n            filterParams.push(`${key}=${value}`);\n        }\n    });\n\n    return filterParams.join(\"&\");\n}\n\nexport function transformObject(\n    input: Record<string, any>,\n    options: {\n        asNumbers?: string[];\n        asStrings?: string[];\n    },\n): Record<string, any> {\n    if (input[\"filter\"] == undefined) {\n        return input;\n    }\n\n    const { asNumbers = [], asStrings = [] } = options;\n\n    const setValueByPath = (obj: any, path: string, transformFn: (value: any) => any) => {\n        const keys = path.split(\".\");\n        let current = obj;\n\n        for (let i = 0; i < keys.length - 1; i++) {\n            current = current[keys[i]];\n        }\n\n        const lastKey = keys[keys.length - 1];\n        if (current?.[lastKey]) {\n            if (Array.isArray(current[lastKey])) {\n                current[lastKey] = current[lastKey].map((value: any) => transformFn(value));\n            } else {\n                current[lastKey] = transformFn(current[lastKey]);\n            }\n        }\n    };\n\n    const result = JSON.parse(JSON.stringify(input));\n\n    asNumbers.forEach((path) => {\n        setValueByPath(result, path, (value) => Number(value));\n    });\n\n    asStrings.forEach((path) => {\n        setValueByPath(result, path, (value) => String(value));\n    });\n\n    return result;\n}\n\nexport function convertFilterTagData(input: ProductFilterValueItem[]): ProductFilterItem[] {\n    const groupMap: Record<string, ProductFilterItem> = {};\n\n    input.forEach((item) => {\n        const [_group, _label] = item.label.split(\"__\");\n\n        const group = _label ? _group : \"tags\";\n        const label = _label ? _label : _group;\n\n        if (!groupMap[group]) {\n            groupMap[group] = {\n                id: `filter.p.${group}`,\n                label: group,\n                presentation: \"TEXT\",\n                type: \"LIST\",\n                values: [],\n            };\n        }\n\n        groupMap[group].values.push({\n            ...item,\n            label,\n        });\n    });\n\n    return Object.values(groupMap);\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 351, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 357, "column": 0}, "map": {"version":3,"sources":["file:///Users/macad/Documents/Project/nextjs/ecommerce/src/app/services/storefront.ts"],"sourcesContent":["import { createStorefrontApiClient } from \"@shopify/storefront-api-client\";\n\nconst client = createStorefrontApiClient({\n    storeDomain: process.env.NEXT_PUBLIC_STORE_DOMAIN!,\n    apiVersion: process.env.NEXT_PUBLIC_API_VERSION!,\n    publicAccessToken: process.env.NEXT_PUBLIC_API_KEY!,\n});\n\nexport default client;\n"],"names":[],"mappings":";;;AAAA;AAAA;;AAEA,MAAM,SAAS,CAAA,GAAA,gMAAA,CAAA,4BAAyB,AAAD,EAAE;IACrC,WAAW;IACX,UAAU;IACV,iBAAiB;AACrB;uCAEe"}},
    {"offset": {"line": 369, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 375, "column": 0}, "map": {"version":3,"sources":["file:///Users/macad/Documents/Project/nextjs/ecommerce/src/app/services/productImpl.ts"],"sourcesContent":["import { SIZE_PER_PAGE, SortProduct } from \"../constants/common\";\nimport ListResponse from \"../types/listResponse\";\nimport Product from \"../types/product\";\nimport ProductDetail from \"../types/productDetail\";\nimport ProductFilterItem, { ProductFilterValueItem } from \"../types/productFilter\";\nimport { convertObjectToArrayFilter } from \"../utils/filter\";\nimport { ProductService } from \"./product\";\nimport client from \"./storefront\";\n\nexport function createProductServiceInstance(): ProductService {\n    return new ProductServiceImpl();\n}\n\nclass ProductServiceImpl implements ProductService {\n    async getCategories(): Promise<ProductFilterValueItem[]> {\n        const query = `\n            query Search {\n                search(first: 250, query: \"\") {\n                    productFilters {\n                        id\n                        label\n                        presentation\n                        type\n                        values {\n                            count\n                            id\n                            input\n                            label\n                            swatch {\n                                color\n                            }\n                        }\n                    }\n                }\n            }\n        `;\n\n        const response = await client.fetch(query);\n        const { data } = await response.json();\n\n        const productFilters: ProductFilterItem[] | undefined = data?.search.productFilters;\n        const productFilterItem: ProductFilterItem | undefined = productFilters?.find(\n            (item) => item.id === \"filter.p.t.category\",\n        );\n        return productFilterItem?.values ?? [];\n    }\n\n    async getProduct(handle: string): Promise<ProductDetail | null> {\n        const query: string = `\n            query Product($handle: String!) {\n                product(handle: $handle) {\n                    id\n                    handle\n                    title\n                    description\n                    descriptionHtml\n                    images(first: 10) {\n                        nodes {\n                            src\n                        }\n                    }\n                    priceRange {\n                        maxVariantPrice {\n                            amount\n                            currencyCode\n                        }\n                        minVariantPrice {\n                            amount\n                            currencyCode\n                        }\n                    }\n                    options(first: 10) {\n                        id\n                        name\n                        values\n                    }\n                    variants(first: 50) {\n                        nodes {\n                            id\n                            title\n                            price {\n                                amount\n                                currencyCode\n                            }\n                            image {\n                                src\n                            }\n                        }\n                    }\n                }\n            }\n        `;\n\n        const variables: Record<string, unknown> = {\n            handle: handle,\n        };\n\n        const response = await client.fetch(query, { variables: variables });\n        const { data } = await response.json();\n\n        const result: ProductDetail | null = data?.product;\n        return result;\n    }\n\n    async getProducts(\n        cursor: string | null,\n        keyword: string,\n        productFilter: Record<string, any>,\n        sort: SortProduct | null,\n    ): Promise<ListResponse<Product> | undefined> {\n        const filters = productFilter[\"filter\"] ? convertObjectToArrayFilter(productFilter[\"filter\"]) : [];\n\n        const query: string = `\n            query Search($keyword: String!, $first: Int!, $after: String, $filter: [ProductFilter!], $sortKey: SearchSortKeys) {\n                search(\n                    query: $keyword,\n                    first: $first,\n                    after: $after,\n                    productFilters: $filter,\n                    sortKey: $sortKey\n                ) {\n                    pageInfo {\n                        endCursor\n                        hasNextPage\n                        hasPreviousPage\n                        startCursor\n                    }\n                    nodes {\n                        ... on Product {\n                            id\n                            handle\n                            title\n                            images(first: 10) {\n                                nodes {\n                                    src\n                                }\n                            }\n                            priceRange {\n                                maxVariantPrice {\n                                    amount\n                                    currencyCode\n                                }\n                                minVariantPrice {\n                                    amount\n                                    currencyCode\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        `;\n\n        const variables: Record<string, unknown> = {\n            keyword: keyword,\n            first: SIZE_PER_PAGE,\n            after: cursor,\n            filter: filters,\n            sortKey: sort,\n        };\n\n        const response = await client.fetch(query, { variables: variables });\n        const { data } = await response.json();\n\n        const result: ListResponse<Product> | undefined = data?.search;\n        return result;\n    }\n\n    async getProductFilters(keyword: string): Promise<ProductFilterItem[]> {\n        const query = `\n            query Search($keyword: String!) {\n                search(first: 250, query: $keyword) {\n                    productFilters {\n                        id\n                        label\n                        presentation\n                        type\n                        values {\n                            count\n                            id\n                            input\n                            label\n                            swatch {\n                                color\n                            }\n                        }\n                    }\n                }\n            }\n        `;\n\n        const variables: Record<string, unknown> = {\n            keyword: keyword,\n        };\n\n        const response = await client.fetch(query, {\n            variables: variables,\n        });\n        const { data } = await response.json();\n\n        const result: ProductFilterItem[] | undefined = data?.search.productFilters;\n        return result ?? [];\n    }\n}\n"],"names":[],"mappings":";;;AAAA;AAKA;AAEA;;;;AAEO,SAAS;IACZ,OAAO,IAAI;AACf;AAEA,MAAM;IACF,MAAM,gBAAmD;QACrD,MAAM,QAAQ,CAAC;;;;;;;;;;;;;;;;;;;;QAoBf,CAAC;QAED,MAAM,WAAW,MAAM,oIAAA,CAAA,UAAM,CAAC,KAAK,CAAC;QACpC,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,SAAS,IAAI;QAEpC,MAAM,iBAAkD,MAAM,OAAO;QACrE,MAAM,oBAAmD,gBAAgB,KACrE,CAAC,OAAS,KAAK,EAAE,KAAK;QAE1B,OAAO,mBAAmB,UAAU,EAAE;IAC1C;IAEA,MAAM,WAAW,MAAc,EAAiC;QAC5D,MAAM,QAAgB,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;QA2CvB,CAAC;QAED,MAAM,YAAqC;YACvC,QAAQ;QACZ;QAEA,MAAM,WAAW,MAAM,oIAAA,CAAA,UAAM,CAAC,KAAK,CAAC,OAAO;YAAE,WAAW;QAAU;QAClE,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,SAAS,IAAI;QAEpC,MAAM,SAA+B,MAAM;QAC3C,OAAO;IACX;IAEA,MAAM,YACF,MAAqB,EACrB,OAAe,EACf,aAAkC,EAClC,IAAwB,EACkB;QAC1C,MAAM,UAAU,aAAa,CAAC,SAAS,GAAG,CAAA,GAAA,6HAAA,CAAA,6BAA0B,AAAD,EAAE,aAAa,CAAC,SAAS,IAAI,EAAE;QAElG,MAAM,QAAgB,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;QAuCvB,CAAC;QAED,MAAM,YAAqC;YACvC,SAAS;YACT,OAAO,iIAAA,CAAA,gBAAa;YACpB,OAAO;YACP,QAAQ;YACR,SAAS;QACb;QAEA,MAAM,WAAW,MAAM,oIAAA,CAAA,UAAM,CAAC,KAAK,CAAC,OAAO;YAAE,WAAW;QAAU;QAClE,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,SAAS,IAAI;QAEpC,MAAM,SAA4C,MAAM;QACxD,OAAO;IACX;IAEA,MAAM,kBAAkB,OAAe,EAAgC;QACnE,MAAM,QAAQ,CAAC;;;;;;;;;;;;;;;;;;;;QAoBf,CAAC;QAED,MAAM,YAAqC;YACvC,SAAS;QACb;QAEA,MAAM,WAAW,MAAM,oIAAA,CAAA,UAAM,CAAC,KAAK,CAAC,OAAO;YACvC,WAAW;QACf;QACA,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,SAAS,IAAI;QAEpC,MAAM,SAA0C,MAAM,OAAO;QAC7D,OAAO,UAAU,EAAE;IACvB;AACJ"}},
    {"offset": {"line": 560, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 566, "column": 0}, "map": {"version":3,"sources":["file:///Users/macad/Documents/Project/nextjs/ecommerce/src/app/services/product.ts"],"sourcesContent":["import { SortProduct } from \"../constants/common\";\nimport ListResponse from \"../types/listResponse\";\nimport Product from \"../types/product\";\nimport ProductDetail from \"../types/productDetail\";\nimport ProductFilterItem, { ProductFilterValueItem } from \"../types/productFilter\";\nimport { createProductServiceInstance } from \"./productImpl\";\n\nexport interface ProductService {\n    getCategories: () => Promise<ProductFilterValueItem[]>;\n    getProduct: (handle: string) => Promise<ProductDetail | null>;\n    getProducts: (\n        cursor: string | null,\n        keyword: string,\n        productFilter: Record<string, any>,\n        sort: SortProduct | null,\n    ) => Promise<ListResponse<Product> | undefined>;\n    getProductFilters: (keyword: string) => Promise<ProductFilterItem[]>;\n}\n\nconst productService: ProductService = createProductServiceInstance();\nexport default productService;\n"],"names":[],"mappings":";;;AAKA;;AAcA,MAAM,iBAAiC,CAAA,GAAA,qIAAA,CAAA,+BAA4B,AAAD;uCACnD"}},
    {"offset": {"line": 573, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 579, "column": 0}, "map": {"version":3,"sources":["file:///Users/macad/Documents/Project/nextjs/ecommerce/src/app/hooks/useDebounce.ts"],"sourcesContent":["import { useRef } from \"react\";\n\nexport const useDebounce = (callback: (...args: any[]) => void, delay: number) => {\n    const timeoutRef = useRef<ReturnType<typeof setTimeout> | null>(null);\n\n    const debouncedFunction = (...args: any[]) => {\n        if (timeoutRef.current) {\n            clearTimeout(timeoutRef.current);\n        }\n        timeoutRef.current = setTimeout(() => {\n            callback(...args);\n        }, delay);\n    };\n\n    return debouncedFunction;\n};\n"],"names":[],"mappings":";;;AAAA;;AAEO,MAAM,cAAc,CAAC,UAAoC;IAC5D,MAAM,aAAa,CAAA,GAAA,qMAAA,CAAA,SAAM,AAAD,EAAwC;IAEhE,MAAM,oBAAoB,CAAC,GAAG;QAC1B,IAAI,WAAW,OAAO,EAAE;YACpB,aAAa,WAAW,OAAO;QACnC;QACA,WAAW,OAAO,GAAG,WAAW;YAC5B,YAAY;QAChB,GAAG;IACP;IAEA,OAAO;AACX"}},
    {"offset": {"line": 596, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 602, "column": 0}, "map": {"version":3,"sources":["file:///Users/macad/Documents/Project/nextjs/ecommerce/src/app/hooks/useFilter.ts"],"sourcesContent":["import { useRouter, useSearchParams } from \"next/navigation\";\nimport productService from \"../services/product\";\nimport ProductFilterItem from \"../types/productFilter\";\nimport { useEffect, useState } from \"react\";\nimport {\n    extractFilterParams,\n    convertObjectToArrayFilter,\n    objectToQueryString,\n    queryStringToObject,\n    replaceInputFilter,\n    convertFilterTagData,\n} from \"../utils/filter\";\nimport { useDebounce } from \"./useDebounce\";\nimport { ProductFilterType } from \"../constants/common\";\n\nfunction useFilter() {\n    const router = useRouter();\n    const searchParams = useSearchParams();\n    const [productFilters, setProductFilters] = useState<ProductFilterItem[]>([]);\n    const [filterSelected, setFilterSelected] = useState<Record<string, boolean>>({});\n    const [priceFilter, setPriceFilter] = useState<ProductFilterItem | null>(null);\n    const [rangePrice, setRangePrice] = useState<{ range: number[]; filter: number[] }>({ range: [], filter: [] });\n\n    const searchKeyword: string | null = searchParams.get(\"search\") ?? \"\";\n\n    useEffect(() => {\n        getProductFilters();\n        extractSelectedFiltersFromURL();\n    }, [searchKeyword]);\n\n    useEffect(() => {\n        extractSelectedFiltersFromURL();\n        extractFilterPrice(productFilters);\n    }, [searchParams]);\n\n    const getProductFilters = async () => {\n        const productFilters: ProductFilterItem[] | undefined = await productService.getProductFilters(searchKeyword);\n        const productFilterReplaced: ProductFilterItem[] = replaceInputFilter(productFilters);\n        const productFilterWithoutTags: ProductFilterItem[] = productFilterReplaced.filter(\n            (item) => item.id !== \"filter.p.tag\",\n        );\n        const filterTags: ProductFilterItem[] = extractFilterTags(productFilterReplaced);\n        setProductFilters([...productFilterWithoutTags, ...filterTags]);\n        extractFilterPrice(productFilterWithoutTags);\n    };\n\n    const extractFilterTags = (productFilters: ProductFilterItem[]): ProductFilterItem[] => {\n        const filterTags: ProductFilterItem | undefined = productFilters.find((item) => item.id === \"filter.p.tag\");\n        if (filterTags) {\n            const convert = convertFilterTagData(filterTags.values);\n            return convert;\n        }\n\n        return [];\n    };\n\n    const extractFilterPrice = (productFilters: ProductFilterItem[]) => {\n        const record: ProductFilterItem | undefined = productFilters.find(\n            (item) => item.type === ProductFilterType.PRICE_RANGE,\n        );\n        if (record) {\n            const {\n                price: { min, max },\n            } = JSON.parse(record.values[0].input);\n\n            const minParams: number = Number(searchParams.get(\"filter.price.min\") ?? NaN);\n            const maxParams: number = Number(searchParams.get(\"filter.price.max\") ?? NaN);\n\n            setPriceFilter(record);\n\n            if (Number.isNaN(minParams) || Number.isNaN(maxParams)) {\n                setRangePrice({ range: [min, max], filter: [min, max] });\n            } else {\n                setRangePrice({ range: [min, max], filter: [minParams, maxParams] });\n            }\n        }\n    };\n\n    const extractSelectedFiltersFromURL = () => {\n        const filterParams: string = extractFilterParams(searchParams.toString());\n        const filterObj: Record<string, any> = queryStringToObject(filterParams);\n        if (filterObj[\"filter\"]) {\n            const filters: Array<Record<string, any>> = convertObjectToArrayFilter(filterObj[\"filter\"]);\n            const filterSelectedHashMap: Record<string, boolean> = filters.reduce((target, value) => {\n                target[JSON.stringify(value)] = true;\n                return target;\n            }, {});\n            setFilterSelected(filterSelectedHashMap);\n        } else {\n            setFilterSelected({});\n        }\n    };\n\n    const onFilter = (input: string, checked: boolean) => {\n        setFilterSelected((selected) => ({ ...selected, [input]: checked }));\n        updateURLParams(input, checked);\n    };\n\n    const updateURLParams = (input: string, checked?: boolean | undefined) => {\n        const currentParams: URLSearchParams = new URLSearchParams(window.location.search);\n        const filterString: string = objectToQueryString(JSON.parse(input));\n        const params: string[] = filterString.split(\"&\");\n        params.forEach((param) => {\n            const [key, valueFilter] = param.split(\"=\");\n            const valueByKey: string | null = currentParams.get(key);\n\n            if (checked === undefined) {\n                currentParams.set(key, valueFilter);\n            } else if (checked) {\n                if (valueByKey) {\n                    currentParams.set(key, valueByKey + valueFilter + \",\");\n                } else {\n                    currentParams.set(key, valueFilter + \",\");\n                }\n            } else {\n                if (valueByKey === null) return;\n                const newValue: string = valueByKey.replace(valueFilter + \",\", \"\");\n\n                if (newValue === \"\") {\n                    currentParams.delete(key, valueFilter + \",\");\n                } else {\n                    currentParams.set(key, newValue);\n                }\n            }\n        });\n        router.push(`${window.location.pathname}?${currentParams.toString()}`);\n    };\n\n    const onDebouncedPriceRangeChange = useDebounce((rangePrice: number[]) => {\n        const input: string = `{ \"price\": { \"min\": ${rangePrice[0]}, \"max\": ${rangePrice[1]} } }`;\n        updateURLParams(input);\n    }, 1000);\n\n    const onChangeFilterRangePrice = (rangePrice: number[]) => {\n        setRangePrice((prev) => ({ ...prev, filter: rangePrice }));\n        onDebouncedPriceRangeChange(rangePrice);\n    };\n\n    return {\n        productFilters,\n        onFilter,\n        onChangeFilterRangePrice,\n        filterSelected,\n        priceFilter,\n        rangePrice,\n    };\n}\n\nexport default useFilter;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 760, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 766, "column": 0}, "map": {"version":3,"sources":["file:///Users/macad/Documents/Project/nextjs/ecommerce/src/app/components/Filter/index.tsx"],"sourcesContent":["import React from \"react\";\nimport \"./style.scss\";\nimport FilterItem from \"./FilterItem\";\nimport FilterPrice from \"./FilterPrice\";\nimport useFilter from \"@/app/hooks/useFilter\";\n\nfunction Filter() {\n    const { productFilters, onFilter, filterSelected, priceFilter, onChangeFilterRangePrice, rangePrice } = useFilter();\n\n    return (\n        <section className=\"filter\">\n            {productFilters.map((filter) => {\n                return (\n                    <FilterItem\n                        key={filter.id}\n                        productFilter={filter}\n                        onClickFilterValue={onFilter}\n                        filterSelected={filterSelected}\n                    />\n                );\n            })}\n\n            {priceFilter && (\n                <FilterPrice\n                    priceFilter={priceFilter}\n                    onChangeFilterRangePrice={onChangeFilterRangePrice}\n                    rangePrice={rangePrice}\n                />\n            )}\n        </section>\n    );\n}\n\nexport default Filter;\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;;;;;;AAEA,SAAS;IACL,MAAM,EAAE,cAAc,EAAE,QAAQ,EAAE,cAAc,EAAE,WAAW,EAAE,wBAAwB,EAAE,UAAU,EAAE,GAAG,CAAA,GAAA,gIAAA,CAAA,UAAS,AAAD;IAEhH,qBACI,8OAAC;QAAQ,WAAU;;YACd,eAAe,GAAG,CAAC,CAAC;gBACjB,qBACI,8OAAC,iJAAA,CAAA,UAAU;oBAEP,eAAe;oBACf,oBAAoB;oBACpB,gBAAgB;mBAHX,OAAO,EAAE;;;;;YAM1B;YAEC,6BACG,8OAAC,kJAAA,CAAA,UAAW;gBACR,aAAa;gBACb,0BAA0B;gBAC1B,YAAY;;;;;;;;;;;;AAKhC;uCAEe"}},
    {"offset": {"line": 811, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 822, "column": 0}, "map": {"version":3,"sources":["file:///Users/macad/Documents/Project/nextjs/ecommerce/src/app/assets/empty-image.png.mjs%20%28structured%20image%20object%29"],"sourcesContent":["import src from \"IMAGE\";\nexport default { src, width: 300, height: 300, blurDataURL: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAIAAABLbSncAAAAhklEQVR42i2OywrFIBBD5///ra29be0DXSi4UBRx4f4ebAd0kkkIkWmalmVZ1/U3BgCd51lYcK31fd/P85znuW2bUkqwQJxzMcacM+C6LjThWWtrra01fjRjzL7vQg4JpRSuvXfAJxB3HIf3nqiUUgiBZNxCATQC9Ri8bzGhLhpIjXm7cvwDm8CijpjulycAAAAASUVORK5CYII=\", blurWidth: 8, blurHeight: 8 }\n"],"names":[],"mappings":";;;AAAA;;uCACe;IAAE,KAAA,mIAAA,CAAA,UAAG;IAAE,OAAO;IAAK,QAAQ;IAAK,aAAa;IAA0R,WAAW;IAAG,YAAY;AAAE"}},
    {"offset": {"line": 835, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 841, "column": 0}, "map": {"version":3,"sources":["file:///Users/macad/Documents/Project/nextjs/ecommerce/src/app/components/ProductCard/index.tsx"],"sourcesContent":["import Product from \"@/app/types/product\";\nimport React from \"react\";\nimport Image from \"next/image\";\nimport \"./style.scss\";\nimport EmptyImage from \"@/app/assets/empty-image.png\";\n\ntype ProductCardPropsType = React.HTMLProps<HTMLDivElement> & {\n    product: Product;\n};\n\nfunction ProductCard({ product, ...rest }: ProductCardPropsType) {\n    return (\n        <div {...rest} className=\"prod-card\">\n            <Image\n                className={\"prod-card__img\"}\n                alt=\"\"\n                src={product.images.nodes[0]?.src || EmptyImage}\n                width={200}\n                height={200}\n            />\n            <div className=\"prod-card-bottom\">\n                <p className=\"prod-card-bottom__title\">{product.title}</p>\n                <p className=\"prod-card-bottom__price\">\n                    {product.priceRange.maxVariantPrice.amount} {product.priceRange.maxVariantPrice.currencyCode}\n                </p>\n            </div>\n        </div>\n    );\n}\n\nexport default ProductCard;\n"],"names":[],"mappings":";;;;AAEA;AAEA;;;;;AAMA,SAAS,YAAY,EAAE,OAAO,EAAE,GAAG,MAA4B;IAC3D,qBACI,8OAAC;QAAK,GAAG,IAAI;QAAE,WAAU;;0BACrB,8OAAC,6HAAA,CAAA,UAAK;gBACF,WAAW;gBACX,KAAI;gBACJ,KAAK,QAAQ,MAAM,CAAC,KAAK,CAAC,EAAE,EAAE,OAAO,gTAAA,CAAA,UAAU;gBAC/C,OAAO;gBACP,QAAQ;;;;;;0BAEZ,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAE,WAAU;kCAA2B,QAAQ,KAAK;;;;;;kCACrD,8OAAC;wBAAE,WAAU;;4BACR,QAAQ,UAAU,CAAC,eAAe,CAAC,MAAM;4BAAC;4BAAE,QAAQ,UAAU,CAAC,eAAe,CAAC,YAAY;;;;;;;;;;;;;;;;;;;AAKhH;uCAEe"}},
    {"offset": {"line": 904, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 910, "column": 0}, "map": {"version":3,"sources":["file:///Users/macad/Documents/Project/nextjs/ecommerce/src/app/components/ProductContainer/index.tsx"],"sourcesContent":["import React from \"react\";\nimport \"./style.scss\";\nimport Product from \"@/app/types/product\";\nimport ProductCard from \"../ProductCard\";\nimport Link from \"next/link\";\n\ntype ProductContainerPropsType = React.HTMLProps<HTMLDivElement> & {\n    products: Product[];\n};\n\nfunction ProductContainer({ products, ...rest }: ProductContainerPropsType) {\n    return (\n        <section {...rest} className={`product-container ${rest.className ?? \"\"}`}>\n            {products.map((product) => {\n                return (\n                    <Link key={product.id} href={`products/${product.handle}`}>\n                        <ProductCard key={product.id} product={product} />\n                    </Link>\n                );\n            })}\n        </section>\n    );\n}\n\nexport default ProductContainer;\n"],"names":[],"mappings":";;;;AAGA;AACA;;;;;AAMA,SAAS,iBAAiB,EAAE,QAAQ,EAAE,GAAG,MAAiC;IACtE,qBACI,8OAAC;QAAS,GAAG,IAAI;QAAE,WAAW,CAAC,kBAAkB,EAAE,KAAK,SAAS,IAAI,IAAI;kBACpE,SAAS,GAAG,CAAC,CAAC;YACX,qBACI,8OAAC,4HAAA,CAAA,UAAI;gBAAkB,MAAM,CAAC,SAAS,EAAE,QAAQ,MAAM,EAAE;0BACrD,cAAA,8OAAC,iJAAA,CAAA,UAAW;oBAAkB,SAAS;mBAArB,QAAQ,EAAE;;;;;eADrB,QAAQ,EAAE;;;;;QAI7B;;;;;;AAGZ;uCAEe"}},
    {"offset": {"line": 947, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 953, "column": 0}, "map": {"version":3,"sources":["file:///Users/macad/Documents/Project/nextjs/ecommerce/src/app/hooks/useProducts.ts"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport Product from \"../types/product\";\nimport productService from \"../services/product\";\nimport ListResponse from \"../types/listResponse\";\nimport { useSearchParams } from \"next/navigation\";\nimport PageInfo from \"../types/pageInfo\";\nimport { extractFilterParams, queryStringToObject, transformObject } from \"../utils/filter\";\nimport { SortProduct } from \"../constants/common\";\n\nimport { productService as productServiceClient } from \"../services/client/product\";\n\nfunction useProducts() {\n    const searchParams = useSearchParams();\n    const [products, setProducts] = useState<Product[]>([]);\n    const [hasLoadAll, setHasLoadAll] = useState<boolean>(false);\n    const [pageInfo, setPageInfo] = useState<PageInfo | null>(null);\n    const [isLoading, setIsLoading] = useState<boolean>(false);\n\n    const searchKeyword: string | null = searchParams.get(\"search\") ?? \"\";\n    const queryParams: string | null = searchParams.toString();\n    let cursor: string | null = pageInfo?.endCursor ?? null;\n\n    useEffect(() => {\n        clearData();\n        getProducts();\n    }, [queryParams]);\n\n    const getProducts = async () => {\n        setIsLoading(true);\n\n        const res = productServiceClient\n\n        const filterParams: string = extractFilterParams(searchParams.toString());\n        const filterVariables: Record<string, any> = queryStringToObject(filterParams);\n        const sortParams: SortProduct | null = searchParams.get(\"sort\") as SortProduct;\n\n        const transformFilterVariables: Record<string, any> = transformObject(filterVariables, {\n            asNumbers: [\"filter.price.min\", \"filter.price.max\"],\n        });\n\n        const response: ListResponse<Product> | undefined = await productService.getProducts(\n            cursor,\n            searchKeyword,\n            transformFilterVariables,\n            sortParams,\n        );\n\n        if (response) {\n            setProducts((prev) => [...prev, ...response.nodes]);\n            setPageInfo(response.pageInfo);\n            setHasLoadAll(!response.pageInfo.hasNextPage);\n        }\n        setIsLoading(false);\n    };\n\n    const clearData = () => {\n        cursor = null;\n        setPageInfo(null);\n        setProducts([]);\n        setHasLoadAll(false);\n    };\n\n    return { products, getProducts, hasLoadAll, isLoading };\n}\n\nexport default useProducts;\n"],"names":[],"mappings":";;;AAEA;AAEA;AAEA;AAEA;AAGA;AAXA;;;;;;AAaA,SAAS;IACL,MAAM,eAAe,CAAA,GAAA,kIAAA,CAAA,kBAAe,AAAD;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAa,EAAE;IACtD,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAW;IACtD,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAmB;IAC1D,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAW;IAEpD,MAAM,gBAA+B,aAAa,GAAG,CAAC,aAAa;IACnE,MAAM,cAA6B,aAAa,QAAQ;IACxD,IAAI,SAAwB,UAAU,aAAa;IAEnD,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACN;QACA;IACJ,GAAG;QAAC;KAAY;IAEhB,MAAM,cAAc;QAChB,aAAa;QAEb,MAAM,MAAM,2IAAA,CAAA,iBAAoB;QAEhC,MAAM,eAAuB,CAAA,GAAA,6HAAA,CAAA,sBAAmB,AAAD,EAAE,aAAa,QAAQ;QACtE,MAAM,kBAAuC,CAAA,GAAA,6HAAA,CAAA,sBAAmB,AAAD,EAAE;QACjE,MAAM,aAAiC,aAAa,GAAG,CAAC;QAExD,MAAM,2BAAgD,CAAA,GAAA,6HAAA,CAAA,kBAAe,AAAD,EAAE,iBAAiB;YACnF,WAAW;gBAAC;gBAAoB;aAAmB;QACvD;QAEA,MAAM,WAA8C,MAAM,iIAAA,CAAA,UAAc,CAAC,WAAW,CAChF,QACA,eACA,0BACA;QAGJ,IAAI,UAAU;YACV,YAAY,CAAC,OAAS;uBAAI;uBAAS,SAAS,KAAK;iBAAC;YAClD,YAAY,SAAS,QAAQ;YAC7B,cAAc,CAAC,SAAS,QAAQ,CAAC,WAAW;QAChD;QACA,aAAa;IACjB;IAEA,MAAM,YAAY;QACd,SAAS;QACT,YAAY;QACZ,YAAY,EAAE;QACd,cAAc;IAClB;IAEA,OAAO;QAAE;QAAU;QAAa;QAAY;IAAU;AAC1D;uCAEe"}},
    {"offset": {"line": 1019, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1025, "column": 0}, "map": {"version":3,"sources":["file:///Users/macad/Documents/Project/nextjs/ecommerce/src/app/components/Sort/index.tsx"],"sourcesContent":["import { FormControl, MenuItem, Select, SelectChangeEvent } from \"@mui/material\";\nimport React, { useEffect, useState } from \"react\";\nimport \"./style.scss\";\nimport { useRouter, useSearchParams } from \"next/navigation\";\nimport { SortProduct } from \"@/app/constants/common\";\n\nfunction Sort() {\n    const router = useRouter();\n    const searchParams = useSearchParams();\n\n    const currentParams: URLSearchParams = new URLSearchParams(window.location.search);\n\n    const sortOptions: { name: string; value: SortProduct }[] = [\n        { name: \"Chọn\", value: SortProduct.SELECT_OPTIONS },\n        { name: \"Giá\", value: SortProduct.PRICE },\n        { name: \"Sản phẩm liên quan\", value: SortProduct.RELEVANCE },\n    ];\n\n    const [sortSelected, setSortSelected] = useState<SortProduct>(SortProduct.SELECT_OPTIONS);\n\n    useEffect(() => {\n        extractSortFromURL();\n    }, []);\n\n    const extractSortFromURL = () => {\n        const sortParams: string | null = searchParams.get(\"sort\");\n        const sortProduct: SortProduct | null = sortParams as SortProduct;\n        if (Object.values(SortProduct).includes(sortProduct)) {\n            setSortSelected(sortProduct);\n        } else {\n            setSortSelected(SortProduct.SELECT_OPTIONS);\n            currentParams.delete(\"sort\", sortProduct);\n            router.push(`${window.location.pathname}?${currentParams.toString()}`);\n        }\n    };\n\n    const onSortHandler = (options: SelectChangeEvent<SortProduct>) => {\n        const value = options.target.value;\n        setSortSelected(value as SortProduct);\n\n        if (value === SortProduct.SELECT_OPTIONS) {\n            const preSortParams: string | null = currentParams.get(\"sort\");\n            currentParams.delete(\"sort\", preSortParams ?? \"\");\n        } else {\n            currentParams.set(\"sort\", value);\n        }\n\n        router.push(`${window.location.pathname}?${currentParams.toString()}`);\n    };\n\n    return (\n        <section className=\"sort mb-3\">\n            <h6>Sort</h6>\n            <FormControl className=\"m-0 p-0\" size=\"small\" sx={{ m: 1, minWidth: \"100%\" }}>\n                <Select\n                    inputProps={{ MenuProps: { disableScrollLock: true } }}\n                    value={sortSelected}\n                    onChange={onSortHandler}\n                >\n                    {sortOptions.map(({ name, value }) => (\n                        <MenuItem key={value} value={value}>\n                            {name}\n                        </MenuItem>\n                    ))}\n                </Select>\n            </FormControl>\n        </section>\n    );\n}\n\nexport default Sort;\n"],"names":[],"mappings":";;;;AACA;AAEA;AACA;AAJA;AAAA;AAAA;;;;;;;AAMA,SAAS;IACL,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,eAAe,CAAA,GAAA,kIAAA,CAAA,kBAAe,AAAD;IAEnC,MAAM,gBAAiC,IAAI,gBAAgB,OAAO,QAAQ,CAAC,MAAM;IAEjF,MAAM,cAAsD;QACxD;YAAE,MAAM;YAAQ,OAAO,iIAAA,CAAA,cAAW,CAAC,cAAc;QAAC;QAClD;YAAE,MAAM;YAAO,OAAO,iIAAA,CAAA,cAAW,CAAC,KAAK;QAAC;QACxC;YAAE,MAAM;YAAsB,OAAO,iIAAA,CAAA,cAAW,CAAC,SAAS;QAAC;KAC9D;IAED,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAe,iIAAA,CAAA,cAAW,CAAC,cAAc;IAExF,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACN;IACJ,GAAG,EAAE;IAEL,MAAM,qBAAqB;QACvB,MAAM,aAA4B,aAAa,GAAG,CAAC;QACnD,MAAM,cAAkC;QACxC,IAAI,OAAO,MAAM,CAAC,iIAAA,CAAA,cAAW,EAAE,QAAQ,CAAC,cAAc;YAClD,gBAAgB;QACpB,OAAO;YACH,gBAAgB,iIAAA,CAAA,cAAW,CAAC,cAAc;YAC1C,cAAc,MAAM,CAAC,QAAQ;YAC7B,OAAO,IAAI,CAAC,GAAG,OAAO,QAAQ,CAAC,QAAQ,CAAC,CAAC,EAAE,cAAc,QAAQ,IAAI;QACzE;IACJ;IAEA,MAAM,gBAAgB,CAAC;QACnB,MAAM,QAAQ,QAAQ,MAAM,CAAC,KAAK;QAClC,gBAAgB;QAEhB,IAAI,UAAU,iIAAA,CAAA,cAAW,CAAC,cAAc,EAAE;YACtC,MAAM,gBAA+B,cAAc,GAAG,CAAC;YACvD,cAAc,MAAM,CAAC,QAAQ,iBAAiB;QAClD,OAAO;YACH,cAAc,GAAG,CAAC,QAAQ;QAC9B;QAEA,OAAO,IAAI,CAAC,GAAG,OAAO,QAAQ,CAAC,QAAQ,CAAC,CAAC,EAAE,cAAc,QAAQ,IAAI;IACzE;IAEA,qBACI,8OAAC;QAAQ,WAAU;;0BACf,8OAAC;0BAAG;;;;;;0BACJ,8OAAC,yMAAA,CAAA,cAAW;gBAAC,WAAU;gBAAU,MAAK;gBAAQ,IAAI;oBAAE,GAAG;oBAAG,UAAU;gBAAO;0BACvE,cAAA,8OAAC,0LAAA,CAAA,SAAM;oBACH,YAAY;wBAAE,WAAW;4BAAE,mBAAmB;wBAAK;oBAAE;oBACrD,OAAO;oBACP,UAAU;8BAET,YAAY,GAAG,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,iBAC7B,8OAAC,gMAAA,CAAA,WAAQ;4BAAa,OAAO;sCACxB;2BADU;;;;;;;;;;;;;;;;;;;;;AAQvC;uCAEe"}},
    {"offset": {"line": 1136, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1142, "column": 0}, "map": {"version":3,"sources":["file:///Users/macad/Documents/Project/nextjs/ecommerce/src/app/products/page.tsx"],"sourcesContent":["\"use client\";\n\nimport React from \"react\";\nimport styles from \"./styles.module.scss\";\nimport Filter from \"../components/Filter\";\nimport ProductContainer from \"../components/ProductContainer\";\nimport useProducts from \"../hooks/useProducts\";\nimport { Button } from \"@mui/material\";\nimport Sort from \"../components/Sort\";\n\nfunction ProductsPage() {\n    const { products, hasLoadAll, isLoading, getProducts } = useProducts();\n\n    return (\n        <div className={styles.page}>\n            <div className=\"container-fluid ps-0 pe-0\">\n                <div className=\"row\">\n                    <div className=\"col-lg-3\">\n                        <Sort />\n                        <Filter />\n                    </div>\n                    <div className=\"col-lg-9\">\n                        <ProductContainer className=\"mb-3\" products={products} />\n                        {!hasLoadAll && (\n                            <div className={styles.load_more}>\n                                <Button\n                                    className={styles.load_more_button}\n                                    disabled={isLoading}\n                                    color=\"primary\"\n                                    variant=\"outlined\"\n                                    size=\"medium\"\n                                    onClick={getProducts}\n                                >\n                                    Tải thêm\n                                </Button>\n                            </div>\n                        )}\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default ProductsPage;\n"],"names":[],"mappings":";;;;AAGA;AACA;AACA;AACA;AAEA;AADA;AAPA;;;;;;;;AAUA,SAAS;IACL,MAAM,EAAE,QAAQ,EAAE,UAAU,EAAE,SAAS,EAAE,WAAW,EAAE,GAAG,CAAA,GAAA,kIAAA,CAAA,UAAW,AAAD;IAEnE,qBACI,8OAAC;QAAI,WAAW,iKAAA,CAAA,UAAM,CAAC,IAAI;kBACvB,cAAA,8OAAC;YAAI,WAAU;sBACX,cAAA,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAI,WAAU;;0CACX,8OAAC,0IAAA,CAAA,UAAI;;;;;0CACL,8OAAC,4IAAA,CAAA,UAAM;;;;;;;;;;;kCAEX,8OAAC;wBAAI,WAAU;;0CACX,8OAAC,sJAAA,CAAA,UAAgB;gCAAC,WAAU;gCAAO,UAAU;;;;;;4BAC5C,CAAC,4BACE,8OAAC;gCAAI,WAAW,iKAAA,CAAA,UAAM,CAAC,SAAS;0CAC5B,cAAA,8OAAC,0LAAA,CAAA,SAAM;oCACH,WAAW,iKAAA,CAAA,UAAM,CAAC,gBAAgB;oCAClC,UAAU;oCACV,OAAM;oCACN,SAAQ;oCACR,MAAK;oCACL,SAAS;8CACZ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAUjC;uCAEe"}},
    {"offset": {"line": 1243, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}