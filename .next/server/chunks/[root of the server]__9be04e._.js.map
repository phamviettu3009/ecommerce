{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 47, "column": 0}, "map": {"version":3,"sources":["file:///Users/macad/Documents/Project/nextjs/ecommerce/src/app/services/storefront.ts"],"sourcesContent":["import { createStorefrontApiClient } from \"@shopify/storefront-api-client\";\n\nconst client = createStorefrontApiClient({\n    storeDomain: process.env.NEXT_PUBLIC_STORE_DOMAIN!,\n    apiVersion: process.env.NEXT_PUBLIC_API_VERSION!,\n    publicAccessToken: process.env.NEXT_PUBLIC_API_KEY!,\n});\n\nexport default client;\n"],"names":[],"mappings":";;;AAAA;AAAA;;AAEA,MAAM,SAAS,CAAA,GAAA,kMAAA,CAAA,4BAAyB,AAAD,EAAE;IACrC,WAAW;IACX,UAAU;IACV,iBAAiB;AACrB;uCAEe"}},
    {"offset": {"line": 59, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 65, "column": 0}, "map": {"version":3,"sources":["file:///Users/macad/Documents/Project/nextjs/ecommerce/src/app/services/customerImpl.ts"],"sourcesContent":["import { CustomerAccessTokenCreate } from \"../types/customerAccessToken\";\nimport { CustomerAccessTokenDelete } from \"../types/customerAccessTokenDelete\";\nimport { CustomerService } from \"./customer\";\nimport client from \"./storefront\";\n\nexport function createCustomerServiceInstance(): CustomerService {\n    return new CustomerServiceImpl();\n}\n\nclass CustomerServiceImpl implements CustomerService {\n    async createAccessToken(email: string, password: string): Promise<CustomerAccessTokenCreate | undefined> {\n        const CUSTOMER_ACCESS_TOKEN_CREATE = `\n            mutation CustomerAccessTokenCreate($email: String!, $password: String!) {\n                customerAccessTokenCreate(\n                    input: { email: $email, password: $password }\n                ) {\n                    customerAccessToken {\n                        accessToken\n                        expiresAt\n                    }\n                    customerUserErrors {\n                        code\n                        field\n                        message\n                    }\n                    userErrors {\n                        field\n                        message\n                    }\n                }\n            }\n        `;\n\n        const response = await client.request(CUSTOMER_ACCESS_TOKEN_CREATE, {\n            variables: { email, password },\n        });\n\n        return response?.data?.customerAccessTokenCreate;\n    }\n\n    async deleteAccessToken(customerAccessToken: string): Promise<CustomerAccessTokenDelete | undefined> {\n        const CUSTOMER_ACCESS_TOKEN_DELETE = `\n            mutation CustomerAccessTokenDelete($customerAccessToken: String!) {\n                customerAccessTokenDelete(customerAccessToken: $customerAccessToken) {\n                    deletedAccessToken\n                    deletedCustomerAccessTokenId\n                    userErrors {\n                        field\n                        message\n                    }\n                }\n            }\n        `;\n\n        const response = await client.request(CUSTOMER_ACCESS_TOKEN_DELETE, {\n            variables: { customerAccessToken: customerAccessToken },\n        });\n\n        console.info(\"====> \", response.data);\n\n        return response?.data?.customerAccessTokenDelete;\n    }\n}\n"],"names":[],"mappings":";;;AAGA;;AAEO,SAAS;IACZ,OAAO,IAAI;AACf;AAEA,MAAM;IACF,MAAM,kBAAkB,KAAa,EAAE,QAAgB,EAAkD;QACrG,MAAM,+BAA+B,CAAC;;;;;;;;;;;;;;;;;;;;QAoBtC,CAAC;QAED,MAAM,WAAW,MAAM,sIAAA,CAAA,UAAM,CAAC,OAAO,CAAC,8BAA8B;YAChE,WAAW;gBAAE;gBAAO;YAAS;QACjC;QAEA,OAAO,UAAU,MAAM;IAC3B;IAEA,MAAM,kBAAkB,mBAA2B,EAAkD;QACjG,MAAM,+BAA+B,CAAC;;;;;;;;;;;QAWtC,CAAC;QAED,MAAM,WAAW,MAAM,sIAAA,CAAA,UAAM,CAAC,OAAO,CAAC,8BAA8B;YAChE,WAAW;gBAAE,qBAAqB;YAAoB;QAC1D;QAEA,QAAQ,IAAI,CAAC,UAAU,SAAS,IAAI;QAEpC,OAAO,UAAU,MAAM;IAC3B;AACJ"}},
    {"offset": {"line": 126, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 132, "column": 0}, "map": {"version":3,"sources":["file:///Users/macad/Documents/Project/nextjs/ecommerce/src/app/services/customer.ts"],"sourcesContent":["import { CustomerAccessTokenCreate } from \"../types/customerAccessToken\";\nimport { CustomerAccessTokenDelete } from \"../types/customerAccessTokenDelete\";\nimport { createCustomerServiceInstance } from \"./customerImpl\";\n\nexport interface CustomerService {\n    createAccessToken: (email: string, password: string) => Promise<CustomerAccessTokenCreate | undefined>;\n    deleteAccessToken: (customerAccessToken: string) => Promise<CustomerAccessTokenDelete | undefined>;\n}\n\nconst customerService: CustomerService = createCustomerServiceInstance();\nexport default customerService;\n"],"names":[],"mappings":";;;AAEA;;AAOA,MAAM,kBAAmC,CAAA,GAAA,wIAAA,CAAA,gCAA6B,AAAD;uCACtD"}},
    {"offset": {"line": 139, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 145, "column": 0}, "map": {"version":3,"sources":["file:///Users/macad/Documents/Project/nextjs/ecommerce/src/app/api/auth/sign-out/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from \"next/server\";\nimport cookie from \"cookie\";\nimport customerService from \"@/app/services/customer\";\nimport { CustomerAccessTokenDelete } from \"@/app/types/customerAccessTokenDelete\";\n\nexport async function POST(request: NextRequest) {\n    const cookies = cookie.parse(request.headers.get(\"cookie\") || \"\");\n    const accessToken: string = cookies.accessToken;\n\n    if (accessToken) {\n        const response: CustomerAccessTokenDelete | undefined = await customerService.deleteAccessToken(accessToken);\n\n        if (response?.deletedAccessToken) {\n            const res = NextResponse.json({ message: \"Sign out successes!\", signOut: true });\n\n            res.cookies.set(\"accessToken\", \"\", {\n                httpOnly: true,\n                secure: process.env.NODE_ENV === \"production\",\n                path: \"/\",\n                maxAge: 0,\n            });\n\n            return res;\n        }\n    }\n\n    return NextResponse.json({ message: \"Sign out failure!\", signOut: false });\n}\n"],"names":[],"mappings":";;;AAAA;AACA;AACA;;;;AAGO,eAAe,KAAK,OAAoB;IAC3C,MAAM,UAAU,iIAAA,CAAA,UAAM,CAAC,KAAK,CAAC,QAAQ,OAAO,CAAC,GAAG,CAAC,aAAa;IAC9D,MAAM,cAAsB,QAAQ,WAAW;IAE/C,IAAI,aAAa;QACb,MAAM,WAAkD,MAAM,oIAAA,CAAA,UAAe,CAAC,iBAAiB,CAAC;QAEhG,IAAI,UAAU,oBAAoB;YAC9B,MAAM,MAAM,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;gBAAE,SAAS;gBAAuB,SAAS;YAAK;YAE9E,IAAI,OAAO,CAAC,GAAG,CAAC,eAAe,IAAI;gBAC/B,UAAU;gBACV,QAAQ,oDAAyB;gBACjC,MAAM;gBACN,QAAQ;YACZ;YAEA,OAAO;QACX;IACJ;IAEA,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;QAAE,SAAS;QAAqB,SAAS;IAAM;AAC5E"}},
    {"offset": {"line": 178, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}